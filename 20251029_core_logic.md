# 2025년 10월 29일: Minesweeper 핵심 로직 개발

## 작업 내용

### 1. 프로젝트 초기 설정

- `main.py` 파일 생성: 게임의 핵심 로직을 담을 기본 파일을 생성했습니다.
- PyGame 라이브러리 초기화 코드를 추가하여 게임 윈도우를 생성할 준비를 마쳤습니다.

### 2. 그리드 시스템 구상

- 게임의 기본이 되는 그리드(격자) 시스템을 구상했습니다.
- 2차원 배열을 사용하여 게임 보드를 표현할 예정입니다.
- 각 타일은 지뢰 여부, 오픈 여부, 깃발 표시 여부 등의 상태를 가집니다.

### 3. 그리드 및 지뢰 배치 구현

- `main.py`에 게임 보드를 나타내는 2차원 배열을 생성하는 `create_board` 함수를 추가했습니다.
- `place_mines` 함수를 구현하여 지정된 수의 지뢰를 보드에 무작위로 배치했습니다. (초급 난이도 기준 9x9 그리드, 지뢰 10개)
- `draw_grid` 함수를 추가하여 PyGame 윈도우에 게임 그리드를 시각적으로 표시했습니다.
- 화면 크기를 그리드 크기에 맞게 동적으로 조절하도록 수정했습니다.

### 4. 주변 지뢰 수 계산 및 타일 공개 기능

- `calculate_neighbor_mines` 함수를 구현하여 각 타일 주변(8방향)의 지뢰 수를 계산하고, 그 값을 보드 데이터에 저장했습니다.
- `draw_board` 함수를 만들어, 타일이 '공개'되었을 때의 시각적 표현을 추가했습니다.
  - 지뢰 타일은 붉은 원으로 표시됩니다.
  - 주변에 지뢰가 있는 타일은 해당 지뢰의 개수를 숫자로 표시합니다.
- 메인 게임 루프에 마우스 왼쪽 클릭 이벤트를 감지하는 로직을 추가했습니다.
  - 클릭된 타일의 `is_revealed` 상태를 `True`로 변경하여 타일이 공개되도록 구현했습니다.

### 5. Flood Fill, 깃발 표시 및 게임 상태 관리

- 'Flood Fill' 알고리즘을 `reveal_tile` 함수에 재귀적으로 구현하여, 주변에 지뢰가 없는 타일 클릭 시 인접한 빈 타일들이 연쇄적으로 열리도록 했습니다.
- 마우스 오른쪽 클릭 이벤트를 처리하여, 공개되지 않은 타일에 'F' 글자로 깃발을 표시하거나 해제하는 기능을 추가했습니다.
- 게임의 상태를 관리하는 `game_over` 및 `game_won` 변수를 도입했습니다.
  - 지뢰 타일을 클릭하면 `game_over`가 활성화되고, 모든 지뢰가 화면에 표시됩니다.
  - `check_game_clear` 함수를 추가하여 모든 안전한 타일이 열렸는지 확인하고, 조건을 만족하면 `game_won` 상태로 전환합니다.
- 게임 오버 또는 게임 승리 시, 화면 중앙에 "Game Over" 또는 "You Win!" 메시지를 표시하도록 구현했습니다.
- 첫 번째 클릭이 항상 지뢰가 아닌 안전한 타일이 되도록, 첫 클릭 이후에 지뢰를 배치하는 로직으로 수정했습니다.

## 다음 작업 예정

- Phase 1의 핵심 로직 구현이 완료되었습니다.
- 다음 단계인 **Phase 2: UI 및 인터랙션** 으로 넘어갑니다.
- 타이머 및 남은 지뢰 수를 표시하는 UI를 추가합니다.
- 재시작 버튼 기능을 구현합니다.
